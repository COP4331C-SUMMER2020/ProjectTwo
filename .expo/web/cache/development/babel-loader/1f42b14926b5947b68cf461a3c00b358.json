{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\abocr\\\\Documents\\\\School\\\\Processes\\\\ProjectTwo\\\\src\\\\Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { setSessionCookie, getSessionCookie } from \"./CookieHandler\";\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      redirect: null\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var handleSubmit = function handleSubmit(e) {\n        var username, lPassword, jsonPayload;\n        return _regeneratorRuntime.async(function handleSubmit$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log('You clicked login!');\n                username = document.getElementById(\"loginemail\").value;\n                lPassword = document.getElementById(\"loginpassword\").value;\n                document.getElementById(\"loginemail\").innerHTML = \"\";\n                document.getElementById(\"loginpassword\").innerHTML = \"\";\n                document.getElementById(\"loginButton\").innerHTML = \"Loading...\";\n                jsonPayload = '{\"email\" : \"' + username + '\", \"password\" : \"' + lPassword + '\"}';\n                fetch('http://192.168.56.1:5000/api/login', {\n                  method: 'POST',\n                  headers: {\n                    'Content-type': 'application/json'\n                  },\n                  body: jsonPayload\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  console.log('Success:', data);\n                  setSessionCookie(data);\n                }).catch(function (error) {\n                  console.error('Error:', error);\n                  return;\n                });\n\n                _this2.setState({\n                  redirect: \"/\"\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      };\n\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: this.state.redirect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 11\n          }\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"registerPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 4\n        }\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 5\n        }\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }\n      }, \"Login Test\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }\n      }, React.createElement(\"input\", {\n        id: \"loginemail\",\n        name: \"loginemail\",\n        autoComplete: \"off\",\n        placeholder: \"Your email address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }\n      }), React.createElement(\"input\", {\n        id: \"loginpassword\",\n        name: \"loginpassword\",\n        type: \"password\",\n        placeholder: \"Choose a safe password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        id: \"loginButton\",\n        onClick: handleSubmit,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 8\n        }\n      }, \"Login\")))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport { Login as default };","map":{"version":3,"sources":["C:/Users/abocr/Documents/School/Processes/ProjectTwo/src/Login.js"],"names":["React","Redirect","setSessionCookie","getSessionCookie","Login","state","redirect","handleSubmit","e","preventDefault","console","log","username","document","getElementById","value","lPassword","innerHTML","jsonPayload","fetch","method","headers","body","then","response","json","data","catch","error","setState","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { setSessionCookie, getSessionCookie } from \"./CookieHandler\";\r\n\r\nexport default class Login extends React.Component {\r\n\tstate = { redirect: null };\r\n\trender() {\r\n\t\tconst handleSubmit = async e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tconsole.log('You clicked login!');\r\n\t\t\t\r\n\t\t\tvar username = document.getElementById(\"loginemail\").value;\r\n\t\t\tvar lPassword = document.getElementById(\"loginpassword\").value;\r\n\t\t\t\r\n\t\t\tdocument.getElementById(\"loginemail\").innerHTML = \"\";\r\n\t\t\tdocument.getElementById(\"loginpassword\").innerHTML = \"\";\r\n\t\t\tdocument.getElementById(\"loginButton\").innerHTML = \"Loading...\";\r\n\t\t\t\r\n\t\t\tvar jsonPayload = '{\"email\" : \"' + username + '\", \"password\" : \"' + lPassword + '\"}';\r\n\t\t\t\r\n\t\t\tfetch('http://192.168.56.1:5000/api/login', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: jsonPayload,\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log('Success:', data);\r\n\t\t\t\tsetSessionCookie(data);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.setState({ redirect: \"/\" });\r\n\t\t};\r\n\t\t\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to={this.state.redirect} />\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"registerPage\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h4>Login Test</h4>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t id=\"loginemail\"\r\n\t\t\t\t\t\t name=\"loginemail\"\r\n\t\t\t\t\t\t autoComplete=\"off\"\r\n\t\t\t\t\t\t placeholder=\"Your email address\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t id=\"loginpassword\"\r\n\t\t\t\t\t\t name=\"loginpassword\"\r\n\t\t\t\t\t\t type=\"password\"\r\n\t\t\t\t\t\t placeholder=\"Choose a safe password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t type=\"button\"\r\n\t\t\t\t\t\t\t id=\"loginButton\"\r\n\t\t\t\t\t\t\t onClick={handleSubmit}\r\n\t\t\t\t\t\t\t type=\"submit\">\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}