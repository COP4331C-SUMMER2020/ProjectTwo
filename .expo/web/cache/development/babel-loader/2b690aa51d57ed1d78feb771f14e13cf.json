{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\abocr\\\\Documents\\\\School\\\\Processes\\\\ProjectTwo\\\\src\\\\Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { setSessionCookie, getSessionCookie } from \"./CookieHandler\";\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      redirect: null\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var handleSubmit = function handleSubmit(e) {\n        var username, lPassword, jsonPayload;\n        return _regeneratorRuntime.async(function handleSubmit$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                username = document.getElementById(\"loginemail\").value;\n\n                if (!(username == \"\")) {\n                  _context.next = 5;\n                  break;\n                }\n\n                document.getElementById(\"emailError\").innerHTML = \"Please enter an email.\";\n                return _context.abrupt(\"return\");\n\n              case 5:\n                document.getElementById(\"emailError\").innerHTML = \"\";\n                lPassword = document.getElementById(\"loginpassword\").value;\n\n                if (!(lPassword == \"\")) {\n                  _context.next = 10;\n                  break;\n                }\n\n                document.getElementById(\"passwordError\").innerHTML = \"Please enter a password.\";\n                return _context.abrupt(\"return\");\n\n              case 10:\n                document.getElementById(\"passwordError\").innerHTML = \"\";\n                document.getElementById(\"loginemail\").value = \"\";\n                document.getElementById(\"loginpassword\").value = \"\";\n                document.getElementById(\"loginButton\").innerHTML = \"Loading...\";\n                jsonPayload = '{\"email\" : \"' + username + '\", \"password\" : \"' + lPassword + '\"}';\n                fetch('http://192.168.56.1:5000/api/login', {\n                  method: 'POST',\n                  headers: {\n                    'Content-type': 'application/json'\n                  },\n                  body: jsonPayload\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  console.log('Success:', data);\n\n                  if (data.error == \"\") {\n                    setSessionCookie(data);\n\n                    _this2.setState({\n                      redirect: \"/\"\n                    });\n                  } else {\n                    document.getElementById(\"errorReturn\").innerHTML = data.error;\n                  }\n                }).catch(function (error) {\n                  console.error('Error:', error);\n                  document.getElementById(\"errorReturn\").innerHTML = data.error;\n                  return;\n                });\n                document.getElementById(\"loginButton\").innerHTML = \"Login\";\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      };\n\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: this.state.redirect,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"registerPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 4\n        }\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }\n      }, \"Login\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }\n      }, React.createElement(\"input\", {\n        id: \"loginemail\",\n        name: \"loginemail\",\n        autoComplete: \"off\",\n        placeholder: \"Your email address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }), React.createElement(\"p\", {\n        id: \"emailError\",\n        className: \"errorReturn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }\n      }), React.createElement(\"input\", {\n        id: \"loginpassword\",\n        name: \"loginpassword\",\n        type: \"password\",\n        placeholder: \"Choose a safe password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }\n      }), React.createElement(\"p\", {\n        id: \"passwordError\",\n        className: \"errorReturn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        id: \"loginButton\",\n        onClick: handleSubmit,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 8\n        }\n      }, \"Login\")), React.createElement(\"p\", {\n        id: \"errorReturn\",\n        className: \"errorReturn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }\n      }))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport { Login as default };","map":{"version":3,"sources":["C:/Users/abocr/Documents/School/Processes/ProjectTwo/src/Login.js"],"names":["React","Redirect","setSessionCookie","getSessionCookie","Login","state","redirect","handleSubmit","e","preventDefault","username","document","getElementById","value","innerHTML","lPassword","jsonPayload","fetch","method","headers","body","then","response","json","data","console","log","error","setState","catch","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { setSessionCookie, getSessionCookie } from \"./CookieHandler\";\r\n\r\nexport default class Login extends React.Component {\r\n\tstate = { redirect: null };\r\n\trender() {\r\n\t\tconst handleSubmit = async e => {\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\t\tvar username = document.getElementById(\"loginemail\").value;\r\n\t\t\tif (username == \"\") {\r\n\t\t\t\tdocument.getElementById(\"emailError\").innerHTML = \"Please enter an email.\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"emailError\").innerHTML = \"\";\r\n\t\t\tvar lPassword = document.getElementById(\"loginpassword\").value;\r\n\t\t\tif (lPassword == \"\") {\r\n\t\t\t\tdocument.getElementById(\"passwordError\").innerHTML = \"Please enter a password.\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"passwordError\").innerHTML = \"\";\r\n\t\t\t\r\n\t\t\tdocument.getElementById(\"loginemail\").value = \"\";\r\n\t\t\tdocument.getElementById(\"loginpassword\").value = \"\";\r\n\t\t\tdocument.getElementById(\"loginButton\").innerHTML = \"Loading...\";\r\n\t\t\t\r\n\t\t\tvar jsonPayload = '{\"email\" : \"' + username + '\", \"password\" : \"' + lPassword + '\"}';\r\n\t\t\t\r\n\t\t\tfetch('http://192.168.56.1:5000/api/login', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: jsonPayload,\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log('Success:', data);\r\n\t\t\t\tif (data.error == \"\") {\r\n\t\t\t\t\tsetSessionCookie(data);\r\n\t\t\t\t\tthis.setState({ redirect: \"/\" });\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdocument.getElementById(\"errorReturn\").innerHTML = data.error;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t\tdocument.getElementById(\"errorReturn\").innerHTML = data.error;\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.getElementById(\"loginButton\").innerHTML = \"Login\";\r\n\t\t};\r\n\t\t\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to={this.state.redirect} />\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"registerPage\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<h4>Login</h4>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t id=\"loginemail\"\r\n\t\t\t\t\t\t name=\"loginemail\"\r\n\t\t\t\t\t\t autoComplete=\"off\"\r\n\t\t\t\t\t\t placeholder=\"Your email address\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p id=\"emailError\" className=\"errorReturn\" />\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t id=\"loginpassword\"\r\n\t\t\t\t\t\t name=\"loginpassword\"\r\n\t\t\t\t\t\t type=\"password\"\r\n\t\t\t\t\t\t placeholder=\"Choose a safe password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p id=\"passwordError\" className=\"errorReturn\" />\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t type=\"button\"\r\n\t\t\t\t\t\t\t id=\"loginButton\"\r\n\t\t\t\t\t\t\t onClick={handleSubmit}\r\n\t\t\t\t\t\t\t type=\"submit\">\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t id=\"errorReturn\"\r\n\t\t\t\t\t\t className=\"errorReturn\" \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}