{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abocr\\\\Documents\\\\School\\\\Processes\\\\ProjectTwo\\\\src\\\\Reset.js\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nexport default class Reset extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: null\n    };\n  }\n\n  render() {\n    var id = 0;\n    var search = this.props.location.search;\n    var params = new URLSearchParams(search);\n    id = params.get('id');\n\n    const handleSubmit = async e => {\n      e.preventDefault();\n      document.getElementById(\"passwordError\").innerHTML = \"\";\n      var lPassword = document.getElementById(\"loginpassword\").value;\n\n      if (lPassword == \"\") {\n        document.getElementById(\"passwordError\").innerHTML = \"Please enter a password.\";\n        return;\n      }\n\n      var jsonPayload = '{\"userId\" : \"' + id + '\", \"password\" : \"' + lPassword + '\"}';\n      fetch('http://192.168.56.1:5000/api/reset', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: jsonPayload\n      }).then(response => response.json()).then(data => {\n        console.log('Success:', data);\n\n        if (data.error == \"\") {\n          this.setState({\n            redirect: \"/login\"\n          });\n        } else {\n          document.getElementById(\"errorReturn\").innerHTML = data.error;\n        }\n      }).catch(error => {\n        console.error('Error:', error);\n        document.getElementById(\"errorReturn\").innerHTML = data.error;\n        return;\n      });\n    };\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: this.state.redirect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"loginpassword\",\n      name: \"loginpassword\",\n      type: \"password\",\n      placeholder: \"Your new password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"passwordError\",\n      id: \"passwordError\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"resetButton\",\n      onClick: handleSubmit,\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, \"Reset Password\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/abocr/Documents/School/Processes/ProjectTwo/src/Reset.js"],"names":["React","Redirect","Reset","Component","state","redirect","render","id","search","props","location","params","URLSearchParams","get","handleSubmit","e","preventDefault","document","getElementById","innerHTML","lPassword","value","jsonPayload","fetch","method","headers","body","then","response","json","data","console","log","error","setState","catch"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default class Reset extends React.Component {\r\n\tstate = { redirect: null };\r\n\trender() {\r\n\t\tvar id = 0;\r\n\t\tvar search = this.props.location.search;\r\n\t\tvar params = new URLSearchParams(search);\r\n\t\tid = params.get('id');\r\n\t\tconst handleSubmit = async e => {\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\t\tdocument.getElementById(\"passwordError\").innerHTML = \"\";\r\n\t\t\tvar lPassword = document.getElementById(\"loginpassword\").value;\r\n\t\t\tif (lPassword == \"\") {\r\n\t\t\t\tdocument.getElementById(\"passwordError\").innerHTML = \"Please enter a password.\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar jsonPayload = '{\"userId\" : \"' + id + '\", \"password\" : \"' + lPassword + '\"}';\r\n\t\t\t\r\n\t\t\tfetch('http://192.168.56.1:5000/api/reset', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: jsonPayload,\r\n\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log('Success:', data);\r\n\t\t\t\tif (data.error == \"\") {\r\n\t\t\t\t\tthis.setState({ redirect: \"/login\" });\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdocument.getElementById(\"errorReturn\").innerHTML = data.error;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error('Error:', error);\r\n\t\t\t\tdocument.getElementById(\"errorReturn\").innerHTML = data.error;\r\n\t\t\t\treturn;\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to={this.state.redirect} />\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t id=\"loginpassword\"\r\n\t\t\t\t\t name=\"loginpassword\"\r\n\t\t\t\t\t type=\"password\"\r\n\t\t\t\t\t placeholder=\"Your new password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p className=\"passwordError\" id=\"passwordError\" />\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t id=\"resetButton\"\r\n\t\t\t\t\t\t onClick={handleSubmit}\r\n\t\t\t\t\t\t type=\"submit\">\r\n\t\t\t\t\t\t\tReset Password\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}